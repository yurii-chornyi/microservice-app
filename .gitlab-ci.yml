# .gitlab-ci.yml

# Frontend build
front-build:
  stage: build
  image: docker:19.03.12
  services:
    - docker:19.03.12-dind
  script:
    - echo "Building frontend image"
    - cd frontend || exit 1 # переконайтеся, що ви належним чином переходите до каталогу frontend
    - docker build -t $CI_REGISTRY_IMAGE/frontend-img:latest .
    - echo "$CI_REGISTRY_PASSWORD" | docker login -u "$CI_REGISTRY_USER" $CI_REGISTRY --password-stdin
    - docker push $CI_REGISTRY_IMAGE/frontend-img:latest
  only:
    changes:
      - frontend/**/*  # Запускається лише при змінах у директорії frontend
